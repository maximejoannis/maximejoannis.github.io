<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Tableau de bord</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:400,500,700&display=swap">
  <style>
    :root {
      --primary-color: #17c3b2; /* Vert turquoise vif */
      --secondary-color: #212d40; /* Gris foncé */
      --background-color: #e0eafc; /* Bleu clair */
      --card-color: #fff; /* Blanc */
      --border-color: #cfdef3; /* Bleu clair */
      --analysis-color: #17c3b2; /* Vert turquoise vif */
      --design-color: #17c3b2; /* Vert turquoise vif */
      --implementation-color: #17c3b2; /* Vert turquoise vif */
      --testing-color: #17c3b2; /* Vert turquoise vif */
      --button-color: #17c3b2; /* Vert turquoise vif */
      --button-hover-color: #0e7c6a; /* Vert turquoise plus foncé */
    }

    body {
      font-family: 'Roboto', Arial, sans-serif;
      margin: 0;
      background-color: var(--background-color);
      color: var(--secondary-color);
      line-height: 1.6;
    }

    header {
      background-color: var(--primary-color);
      color: var(--card-color);
      padding: 1rem 2rem;
      text-align: center;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    }

    header h1 {
      margin: 0;
      font-size: 1.8rem;
    }

    .container {
      max-width: 1200px;
      margin: 2rem auto;
      padding: 0 2rem;
    }

    .sprint-info {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 2rem;
      padding: 1rem;
      background-color: var(--card-color);
      border: 1px solid var(--border-color);
      border-radius: 8px;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
    }

    .sprint-info h2 {
      margin: 0;
      font-size: 1.5rem;
    }

    .sprint-info p {
      margin: 0;
      font-size: 1rem;
      color: var(--secondary-color);
    }

    .board {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 1.5rem;
    }

    .column {
      background-color: var(--card-color);
      border: 1px solid var(--border-color);
      border-radius: 8px;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
      overflow: hidden;
    }

    .column-header {
      padding: 1rem;
      font-weight: bold;
      text-align: center;
      color: var(--card-color);
      border-bottom: 1px solid var(--border-color);
    }

    .column-header.analysis,
    .column-header.design,
    .column-header.implementation,
    .column-header.testing {
      background-color: var(--analysis-color);
    }

    .task {
      padding: 1rem;
      margin: 1rem;
      background-color: var(--background-color);
      border: 1px solid var(--border-color);
      border-radius: 4px;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
      transition: transform 0.2s ease;
      cursor: pointer;
    }

    .task:hover {
      transform: translateY(-3px);
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    }

    .task h3 {
      margin: 0;
      font-size: 1rem;
      font-weight: 500;
      color: var(--secondary-color);
    }

    .task p {
      margin: 0.5rem 0 0;
      font-size: 0.9rem;
      color: #36405a; /* Gris légèrement plus clair */
    }

    .livrable-button {
      display: block;
      text-align: center;
      margin: 1rem auto;
      padding: 0.5rem 1rem;
      background-color: var(--button-color);
      color: var(--card-color);
      text-decoration: none;
      font-size: 0.9rem;
      font-weight: bold;
      border-radius: 4px;
      transition: background-color 0.3s ease;
      width: 80%;
    }

    .livrable-button:hover {
      background-color: var(--button-hover-color);
    }

    footer {
      text-align: center;
      padding: 1rem 0;
      margin-top: 2rem;
      background-color: var(--background-color);
      color: var(--secondary-color);
      font-size: 0.9rem;
    }
	
.chart-container {
      display: flex;
      align-items: center;
      justify-content: center;
      flex-direction: column;
      position: relative;
    }

    .chart-title {
      font-size: 24px;
      font-weight: bold;
      color: #333;
      margin-bottom: 20px;
      text-align: center;
    }

    .pie-chart {
      width: 300px;
      height: 300px;
      position: relative;
      border-radius: 50%;
      background: conic-gradient(
        #17c3b2 0% 9.52%,       /* Tickets créés (9.52%) */
        #227c9d 9.52% 11.9%,   /* Epic Link (2.38%) */
        #ffcb77 11.9% 16.67%,  /* Tâches (4.76%) */
        #f4a261 16.67% 30.95%, /* Sous-tâches (14.28%) */
        #e76f51 30.95% 85.71%, /* Tickets de type test (54.76%) */
        #264653 85.71% 90.48%, /* Tickets de type execution tests (4.76%) */
        #2a9d8f 90.48% 95.24%, /* Plan test (4.76%) */
        #000000 95.24% 100%    /* Bugs (4.76%) */
      );
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
      cursor: pointer;
      transition: transform 0.3s ease, opacity 0.3s ease;
      animation: rotateChart 1.5s ease-out;
    }

    .pie-chart:hover {
      transform: scale(1.05); /* Zoom au survol */
    }

    /* Animation de rotation */
    @keyframes rotateChart {
      from {
        transform: rotate(-360deg);
      }
      to {
        transform: rotate(0deg);
      }
    }

    /* Infobulles */
    .tooltip {
      position: absolute;
      background: rgba(0, 0, 0, 0.8);
      color: white;
      padding: 8px 12px;
      border-radius: 4px;
      font-size: 14px;
      display: none;
      pointer-events: none;
      z-index: 10;
      text-align: center;
      transition: opacity 0.3s ease;
    }

    /* Légende */
    .legend {
      display: flex;
      flex-direction: column;
      gap: 8px;
      max-width: 300px;
      margin-top: 20px;
    }

    .legend-item {
      display: flex;
      align-items: center;
      gap: 10px;
      cursor: pointer;
      transition: transform 0.2s ease;
    }

    .legend-item:hover {
      transform: scale(1.05); /* Agrandit légèrement l'élément survolé */
    }

    .legend-color {
      width: 20px;
      height: 20px;
      border-radius: 4px;
    }

    .legend-text {
      font-size: 14px;
      color: #333;
    }

    /* Couleurs pour la légende */
    .color-tickets { background-color: #17c3b2; }
    .color-epic { background-color: #227c9d; }
    .color-tasks { background-color: #ffcb77; }
    .color-subtasks { background-color: #f4a261; }
    .color-tests { background-color: #e76f51; }
    .color-execution { background-color: #264653; }
    .color-plan { background-color: #2a9d8f; }
	.color-bug { background-color: #000000; }
	
	table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 1rem;
      background-color: var(--card-color);
      border-radius: 8px;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
      overflow: hidden;
    }

    table th, table td {
      padding: 1rem;
      text-align: left;
      border-bottom: 1px solid var(--border-color);
    }

    table th {
      background-color: var(--primary-color);
      color: var(--card-color);
      font-weight: bold;
    }

    .badge {
      display: inline-block;
      padding: 0.5rem 1rem;
      font-size: 0.9rem;
      font-weight: bold;
      color: var(--card-color);
      border-radius: 4px;
    }

    .badge-success {
      background-color: var(--success-color);
    }

    .badge-warning {
      background-color: var(--warning-color);
    }

    .badge-error {
      background-color: var(--error-color);
    }

    .progress-bar {
      height: 1rem;
      width: 100%;
      background-color: var(--background-color);
      border-radius: 8px;
      overflow: hidden;
    }

    .progress {
      height: 100%;
      background-color: #227c9d;
      border-radius: 8px;
    }
	hr {
	  border: none; /* Supprime la bordure par défaut */
	  height: 4px; /* Définit l'épaisseur de la ligne */
	  background: linear-gradient(90deg, #ff7eb3, #ff758c, #ff6a5e); /* Dégradé moderne */
	  border-radius: 8px; /* Coins arrondis pour un effet plus doux */
	  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1); /* Ombre subtile pour un effet flottant */
	  margin: 2rem 0; /* Espace vertical autour de la ligne */
}
/* Pour les écrans de taille normale (tablettes et ordinateurs) */
        .box {
            background-color: lightblue;
            padding: 20px;
            margin: 10px;
            flex: 1;
            box-sizing: border-box;
        }

        /* Media query pour les petits écrans (téléphones) */
        @media (max-width: 600px) {
            .content {
                flex-direction: column;
            }
            .box {
                margin: 5px;
                padding: 10px;
            }
        }

        /* Media query pour les tablettes (écrans entre 601px et 1024px) */
        @media (min-width: 601px) and (max-width: 1024px) {
            .content {
                flex-direction: row;
                justify-content: space-around;
            }
        }
  </style>
</head>
<body>
  <header>
    <h1>Tableau de bord du projet de fin de formation Homey</h1>
  </header>

  <div class="container">
    <!-- Informations sur le sprint -->
	 <div class="chart-title">Informations sur les sprints</div>
    <div class="sprint-info">
      <div>
        <h2>Sprint 1 : 9 mars - 22 mars</h2>
		<h2>Sprint 2 : 23 mars - 5 avril</h2>
		<h2>Sprint 3 : 6 avril - 19 avril</h2>
		<h2>Sprint 4 : 20 avril - 25 avril</h2>
        <p>Durée d'un sprint : 2 semaines (14 jours par sprint)</p>
      </div>
      <div>
        <p><strong>Date de début :</strong> 9 mars 2025</p>
        <p><strong>Date de fin :</strong> 25 avril 2025</p>
      </div>
    </div>
	
	<hr>
	
	<!-- Diagramme circulaire -->
	<div class="chart-container">
    <!-- Titre -->
    <div class="chart-title">Vue d'ensemble</div>
    <!-- Diagramme circulaire -->
    <div class="pie-chart" id="pieChart"></div>
    <!-- Infobulle -->
    <div class="tooltip" id="tooltip"></div>
    <!-- Légende -->
    <div class="legend" id="legend">
      <div class="legend-item" data-index="0">
        <div class="legend-color color-tickets"></div>
        <div class="legend-text">39 Tickets créés</div>
      </div>
      <div class="legend-item" data-index="1">
        <div class="legend-color color-epic"></div>
        <div class="legend-text">1 Epic Link</div>
      </div>
      <div class="legend-item" data-index="2">
        <div class="legend-color color-tasks"></div>
        <div class="legend-text">2 Tâches</div>
      </div>
      <div class="legend-item" data-index="3">
        <div class="legend-color color-subtasks"></div>
        <div class="legend-text">6 Sous-tâches</div>
      </div>
      <div class="legend-item" data-index="4">
        <div class="legend-color color-tests"></div>
        <div class="legend-text">23 Tickets de type test</div>
      </div>
      <div class="legend-item" data-index="5">
        <div class="legend-color color-execution"></div>
        <div class="legend-text">2 Tickets de type execution tests</div>
      </div>
      <div class="legend-item" data-index="6">
        <div class="legend-color color-plan"></div>
        <div class="legend-text">2 Tickets de type plan test</div>
      </div>
      <div class="legend-item" data-index="7">
        <div class="legend-color color-bug"></div>
        <div class="legend-text">3 Tickets de type bug</div>
      </div>
    </div>
  </div>
<hr>

<div class="chart-title">Détail des activités réalisées sur le PFF Homey</div>
    <!-- Tableau Kanban -->
    <div class="board">
      <!-- Colonne Analyse -->
      <div class="column">
        <div class="column-header analysis">Analyse</div>
        <div class="task">
          <h3>Détermination de la structure du périmètre fonctionnel</h3>
        </div>
        <div class="task">
          <h3>Réalisation d'une revue des histoires utilisateur affectées à mon périmètre</h3>
        </div>
		 <div class="task">
          <h3>Mise à jour de la structure des tests</h3>
        </div>
		 <div class="task">
          <h3>Création du projet PFF_MaximeJoannis dans Jira</h3>
        </div>
		<div class="task">
          <h3>Création des EPICS dans Jira</h3>
        </div>
		<div class="task">
          <h3>Création des users stories dans Jira</h3>
        </div>
		<div class="task">
          <h3>Ajout des conditions de test</h3>
        </div>
		<div class="task">
          <h3>Démarrage du sprint</h3>
        </div>
      </div>

      <!-- Colonne Conception -->
      <div class="column">
        <div class="column-header analysis">Conception</div>
        <div class="task">
          <h3>Listing des cas de test des users stories affectées à mon périmètre de test</h3>
        </div>
        <div class="task">
          <h3>Conception des cas de test associés aux différentes users stories de mon périmètres</h3>
        </div>
		 <div class="task">
          <h3>Création des cas de tests dans l'outil Jira</h3>
        </div>
      </div>

      <!-- Colonne Implémentation -->
      <div class="column">
        <div class="column-header implementation">Implémentation</div>
        <div class="task">
          <h3>Implémentation des cas de test</h3>
        </div>
        <div class="task">
          <h3>Préparation des campagnes de test</h3>
        </div>
		<div class="task">
          <h3>Création des plans de test</h3>
        </div>
		<div class="task">
          <h3>Création des éxécutions de test dans </h3>
        </div>
		<div class="task">
          <h3>Développement des tests automatisés sur les scénarios critiques</h3>
        </div>
      </div>

      <!-- Colonne Exécution -->
      <div class="column">
        <div class="column-header testing">Exécution</div>
        <div class="task">
          <h3>Initialisation des éxécutions des campagnes de test</h3>
        </div>
        <div class="task">
          <h3>Lancement des éxécutions des campagnes de test </h3>
        </div>
		 <div class="task">
          <h3>Création du rapport de test final pour les 2 users stories</h3>
        </div>
      </div>
    </div>
	<hr>
	<div class="chart-title">Rapport de couverture des tests</div>
    <table>
      <thead>
        <tr>
          <th>Clé</th>
          <th>Résumé</th>
          <th>Nombre Total de Tests</th>
          <th>Réussi</th>
          <th>Échoué</th>
          <th>Complétude</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>PFF-1</td>
          <td>EPIC 1 - Gestion des réservations</td>
          <td>23</td>
          <td>19</td>
          <td>4</td>
          <td>
            <div class="progress-bar">
              <div class="progress" style="width: 82.6%;"></div>
            </div>
            <span>82.6%</span>
          </td>
        </tr>
        <tr>
          <td>PFF-2</td>
          <td>Story 1 - Faire une demande de réservation</td>
          <td>14</td>
          <td>11</td>
          <td>3</td>
          <td>
            <div class="progress-bar">
              <div class="progress" style="width: 78.6%;"></div>
            </div>
            <span>78.6%</span>
          </td>
        </tr>
        <tr>
          <td>PFF-4</td>
          <td>Un Voyageur (connecté) fait une demande de réservation</td>
          <td>1</td>
          <td>1</td>
          <td>0</td>
          <td>
            <div class="progress-bar">
              <div class="progress" style="width: 100%;"></div>
            </div>
            <span>100%</span>
          </td>
        </tr>
        <tr>
          <td>PFF-6</td>
          <td>Demande de réservation avec une sélection de dates valides</td>
          <td>1</td>
          <td>1</td>
          <td>0</td>
          <td>
            <div class="progress-bar">
              <div class="progress" style="width: 100%;"></div>
            </div>
            <span>100%</span>
          </td>
        </tr>
        <tr>
          <td>PFF-7</td>
          <td>Demande de réservation avec une date de début dans le passé</td>
          <td>1</td>
          <td>1</td>
          <td>0</td>
          <td>
            <div class="progress-bar">
              <div class="progress" style="width: 100%;"></div>
            </div>
            <span>100%</span>
          </td>
        </tr>
        <tr>
          <td>PFF-8</td>
          <td>Demande de réservation avec une date de fin avant la date de début</td>
          <td>1</td>
          <td>1</td>
          <td>0</td>
          <td>
            <div class="progress-bar">
              <div class="progress" style="width: 100%;"></div>
            </div>
            <span>100%</span>
          </td>
        </tr>
        <tr>
          <td>PFF-9</td>
          <td>Sélection d'une période déjà réservée</td>
          <td>1</td>
          <td>1</td>
          <td>0</td>
          <td>
            <div class="progress-bar">
              <div class="progress" style="width: 100%;"></div>
            </div>
            <span>100%</span>
          </td>
        </tr>
		<tr>
          <td>PFF-10</td>
          <td>Saisie d'un nombre valide de voyageurs</td>
          <td>1</td>
          <td>1</td>
          <td>0</td>
          <td>
            <div class="progress-bar">
              <div class="progress" style="width: 100%;"></div>
            </div>
            <span>100%</span>
          </td>
        </tr>
		<tr>
          <td>PFF-11</td>
          <td>Demande de réservation avec un nombre de voyageurs négatif</td>
          <td>1</td>
          <td>1</td>
          <td>0</td>
          <td>
            <div class="progress-bar">
              <div class="progress" style="width: 100%;"></div>
            </div>
            <span>100%</span>
          </td>
        </tr>
		<tr>
          <td>PFF-12</td>
          <td>Demande de réservation avec un nombre de voyageurs nul</td>
          <td>1</td>
          <td>1</td>
          <td>0</td>
          <td>
            <div class="progress-bar">
              <div class="progress" style="width: 100%;"></div>
            </div>
            <span>100%</span>
          </td>
        </tr>
		<tr>
          <td>PFF-13</td>
          <td>Demande de réservation avec un message</td>
          <td>1</td>
          <td>0</td>
          <td>1</td>
          <td>
            <div class="progress-bar">
              <div class="progress" style="width: 0%;"></div>
            </div>
            <span>0%</span>
          </td>
        </tr>
		<tr>
          <td>PFF-14</td>
          <td>Réception d'une notification de réservation par l’hôte</td>
          <td>1</td>
          <td>0</td>
          <td>1</td>
          <td>
            <div class="progress-bar">
              <div class="progress" style="width: 0%;"></div>
            </div>
            <span>0%</span>
          </td>
        </tr>
		<tr>
          <td>PFF-15</td>
          <td>Accès aux réservations via le menu latéral</td>
          <td>1</td>
          <td>1</td>
          <td>0</td>
          <td>
            <div class="progress-bar">
              <div class="progress" style="width: 100%;"></div>
            </div>
            <span>100%</span>
          </td>
        </tr>
		<tr>
          <td>PFF-16</td>
          <td>Accès aux messages via le menu utilisateur</td>
          <td>1</td>
          <td>0</td>
          <td>1</td>
          <td>
            <div class="progress-bar">
              <div class="progress" style="width: 0%;"></div>
            </div>
            <span>0%</span>
          </td>
        </tr>
		<tr>
          <td>PFF-5</td>
          <td>Un Visiteur (non connecté) fait une demande de réservation</td>
          <td>1</td>
          <td>1</td>
          <td>0</td>
          <td>
            <div class="progress-bar">
              <div class="progress" style="width: 100%;"></div>
            </div>
            <span>100%</span>
          </td>
        </tr>
		<tr>
          <td>PFF-17</td>
          <td>Tentative de réservation par un utilisateur non connecté</td>
          <td>1</td>
          <td>1</td>
          <td>0</td>
          <td>
            <div class="progress-bar">
              <div class="progress" style="width: 100%;"></div>
            </div>
            <span>100%</span>
          </td>
        </tr>
		<tr>
          <td>PFF-4</td>
          <td>Story 2 - Traiter une demande de réservation</td>
          <td>9</td>
          <td>8</td>
          <td>1</td>
          <td>
            <div class="progress-bar">
              <div class="progress" style="width: 88.9%;"></div>
            </div>
            <span>88.9%</span>
          </td>
        </tr>
		<tr>
          <td>PFF-18</td>
          <td>Réception d'une nouvelle demande de réservation</td>
          <td>1</td>
          <td>1</td>
          <td>0</td>
          <td>
            <div class="progress-bar">
              <div class="progress" style="width: 100%;"></div>
            </div>
            <span>100%</span>
          </td>
        </tr>
		<tr>
          <td>PFF-19</td>
          <td>L'hôte confirme une demande de réservation</td>
          <td>1</td>
          <td>1</td>
          <td>0</td>
          <td>
            <div class="progress-bar">
              <div class="progress" style="width: 100%;"></div>
            </div>
            <span>100%</span>
          </td>
        </tr>
		<tr>
          <td>PFF-20</td>
          <td>L'hôte refuse une demande de réservation</td>
          <td>1</td>
          <td>1</td>
          <td>0</td>
          <td>
            <div class="progress-bar">
              <div class="progress" style="width: 100%;"></div>
            </div>
            <span>100%</span>
          </td>
        </tr>
		<tr>
          <td>PFF-21</td>
          <td>L'hôte ajoute des frais supplémentaires</td>
          <td>1</td>
          <td>1</td>
          <td></td>
          <td>
            <div class="progress-bar">
              <div class="progress" style="width: 100%;"></div>
            </div>
            <span>100%</span>
          </td>
        </tr>
		<tr>
          <td>PFF-22</td>
          <td>L'hôte applique une remise</td>
          <td>1</td>
          <td>0</td>
          <td>1</td>
          <td>
            <div class="progress-bar">
              <div class="progress" style="width: 0%;"></div>
            </div>
            <span>0%</span>
          </td>
        </tr>
		<tr>
          <td>PFF-23</td>
          <td>Le voyageur annule une demande de réservation</td>
          <td>1</td>
          <td>1</td>
          <td>0</td>
          <td>
            <div class="progress-bar">
              <div class="progress" style="width: 100%;"></div>
            </div>
            <span>100%</span>
          </td>
        </tr>
		<tr>
          <td>PFF-24</td>
          <td>Le voyageur procède au paiement</td>
          <td>1</td>
          <td>1</td>
          <td>0</td>
          <td>
            <div class="progress-bar">
              <div class="progress" style="width: 100%;"></div>
            </div>
            <span>100%</span>
          </td>
        </tr>
		<tr>
          <td>PFF-25</td>
          <td>Le paiement est impossible si l'hôte n'a pas renseigné ses informations bancaires</td>
          <td>1</td>
          <td>1</td>
          <td>0</td>
          <td>
            <div class="progress-bar">
              <div class="progress" style="width: 100%;"></div>
            </div>
            <span>100%</span>
          </td>
        </tr>
		<tr>
          <td>PFF-26</td>
          <td>L'hôte marque une réservation comme payée</td>
          <td>1</td>
          <td>1</td>
          <td>0</td>
          <td>
            <div class="progress-bar">
              <div class="progress" style="width: 100%;"></div>
            </div>
            <span>100%</span>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
  </div>
  
  <script>
    const data = [
      { label: "Tickets créés", value: 39, percentage: "9.52%", color: "#17c3b2" },
      { label: "Epic Link", value: 1, percentage: "2.38%", color: "#227c9d" },
      { label: "Tâches", value: 2, percentage: "4.76%", color: "#ffcb77" },
      { label: "Sous-tâches", value: 6, percentage: "14.28%", color: "#f4a261" },
      { label: "Tickets de type test", value: 23, percentage: "54.76%", color: "#e76f51" },
      { label: "Tickets de type execution tests", value: 2, percentage: "4.76%", color: "#264653" },
      { label: "Plan test", value: 2, percentage: "4.76%", color: "#2a9d8f" },
      { label: "Bugs", value: 3, percentage: "7.14%", color: "#e63946" },
    ];

    const pieChart = document.getElementById("pieChart");
    const tooltip = document.getElementById("tooltip");
    const legendItems = document.querySelectorAll(".legend-item");

    // Ajouter l'interactivité au survol
    pieChart.addEventListener("mousemove", (e) => {
      const rect = pieChart.getBoundingClientRect();
      const x = e.clientX - rect.left - rect.width / 2;
      const y = e.clientY - rect.top - rect.height / 2;
      const angle = (Math.atan2(y, x) * 180) / Math.PI + 180; // Calculer l'angle de la souris
      let startAngle = 0;

      // Trouver la section correspondante
      for (const section of data) {
        const endAngle = startAngle + parseFloat(section.percentage);
        if (angle >= startAngle && angle <= endAngle) {
          tooltip.style.display = "block";
          tooltip.style.left = `${e.clientX + 10}px`;
          tooltip.style.top = `${e.clientY + 10}px`;
          tooltip.innerHTML = `<strong>${section.label}</strong><br>${section.value} (${section.percentage})`;
          return;
        }
        startAngle = endAngle;
      }

      tooltip.style.display = "none";
    });

    // Cacher l'infobulle lorsque la souris quitte le diagramme
    pieChart.addEventListener("mouseleave", () => {
      tooltip.style.display = "none";
    });

    // Ajouter l'interactivité à la légende
    legendItems.forEach((item, index) => {
      item.addEventListener("mouseenter", () => {
        tooltip.style.display = "block";
        tooltip.innerHTML = `<strong>${data[index].label}</strong><br>${data[index].value} (${data[index].percentage})`;
      });

      item.addEventListener("mouseleave", () => {
        tooltip.style.display = "none";
      });
    });
  </script>
</body>
</html>